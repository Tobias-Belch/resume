---
import Header from "@components/resume/Header.astro";
import Skills from "@components/resume/Skills.astro";
import Summary from "@components/resume/Summary.astro";
import Work from "@components/resume/Work.astro";
import { Resume } from "@schemas/Resume";

export type Props = Resume;
const {
  basics: { summary, ...basics },
  skills,
  work,
} = Astro.props as Props;

const summaries = Array.isArray(summary) ? summary : [summary];
---

<main>
  <Header {...basics} />

  <div class="sections">
    {summaries.map((summary) => <Summary summary={summary} />)}

    {skills && <Skills skills={skills} sortedBy="level" />}

    {work && work.map((work) => <Work {...work} />)}
  </div>
</main>

<style>
  .sections {
    padding: var(--spacing-xxl);
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xxl);
  }

  @media only screen and (min-width: 990px) {
    .sections {
      padding: var(--spacing-xxl) 0;
    }
  }
</style>
